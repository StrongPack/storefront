fragment MenuItem on MenuItem {
	id
	name
	level
	translation(languageCode: $languageCode) {
		id
		name
	}
	category {
		id
		slug
		name
		backgroundImage {
			url
			alt
		}
		translation(languageCode: $languageCode) {
			id
			name
		}
		children(first: 10, last: 10) {
			totalCount
			edges {
				node {
					name
					id
					slug
					backgroundImage {
						url
						alt
					}
					translation(languageCode: $languageCode) {
						id
						name
					}
				}
			}
		}
	}
	collection {
		id
		name
		slug
		backgroundImage {
			url
			alt
		}
		translation(languageCode: $languageCode) {
			id
			name
		}
	}
	page {
		id
		title
		slug
		created
		translation(languageCode: $languageCode) {
			id
			title
		}
		metadata {
			key
			value
		}
	}
	url
}

query MenuGetBySlug($languageCode: LanguageCodeEnum!, $slug: String!, $channel: String!) {
	menu(slug: $slug, channel: $channel) {
		items {
			...MenuItem
			children {
				...MenuItem
			}
		}
	}
}
